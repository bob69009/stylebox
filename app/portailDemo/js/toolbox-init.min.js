!function(t,o){"object"==typeof exports?module.exports=o:t.toolbox=o($)}(this,function(t){var o={};return o.init=function(){this.initNavigation(),this.initAccueil()},o.url=function(t){var o={};return window.location.href.replace(location.hash,"").replace(/[?&]+([^=&]+)=?([^&]*)?/gi,function(t,n,i){o[n]=void 0!==i?i:""}),t?o[t]?o[t]:null:o},o.ajax=function(n,i,e){var l=t("#"+n),a=i+".html";t.ajax({url:a,dataType:"html",beforeSend:function(){l.empty()},success:function(o){l.empty(),t("#back-top").fadeOut(),"tool-version-content"===n&&(o=t(o).find("#tool-list-versionning > li:first-child > *")),l.append(o)},complete:function(){"tool-version-content"!==n&&t(".lang-html").length>0?o.parseHTML(t(".lang-html")):PR.prettyPrint(),t("#tool-main-content").find(".overflow-y").scroll(function(){o.configScrollTop("back-top")}),"undefined"!=typeof e&&e()},error:function(t){console.log(t.statusText)}})},o.rgb2hex=function(t){var o=t.replace(/\s/g,"").match(/^rgba?\((\d+),(\d+),(\d+)/i);return o&&4===o.length?"#"+("0"+parseInt(o[1],10).toString(16)).slice(-2)+("0"+parseInt(o[2],10).toString(16)).slice(-2)+("0"+parseInt(o[3],10).toString(16)).slice(-2):orig},o.parseHTML=function(o){for(var i,n=o,e=0;e<n.length;e++)i=t(n[e]).html().replace(/</g,"&lt;"),t(n[e]).html(i);PR.prettyPrint()},o.initNavigation=function(){t("#tool-link-accueil").on("click",function(){o.initAccueil()}),t("#tool-menu-info").on("click",function(){o.ajax("tool-version-content","template/version"),lightbox.openLightbox("all","tool-version","modalY-topToCenter","","",function(){t(".lbptool-closeX-btn").on("click",function(){lightbox.closeLightbox("all","tool-version","modalY-topToCenter")}),t("#tool-link-version").on("click",function(){lightbox.closeLightbox("all","tool-version","modalY-topToCenter",function(){o.ajax("tool-main-content","template/version")})})})}),t("#tool-menu-open").on("click",function(){t("#tool-navigation").on("webkitTransitionEnd transitionend",function(){var o=t(this).find("li"),n=t(this).find("li:last-child");n.on("webkitAnimationEnd animationend",function(){n.off("webkitAnimationEnd animationend"),o.removeClass("effet-open-translateX-rightLeft").css({"-webkit-animation-delay":0,"animation-delay":0})});for(var i=0;i<o.length;i++)t(o[i]).css({"-webkit-animation-duration":".25s","animation-duration":".25s","-webkit-animation-delay":i/15+"s","animation-delay":i/15+"s"});t("#tool-navigation-menu").removeClass("effet-hide"),o.addClass("effet-open-translateX-rightLeft"),t(this).off("webkitTransitionEnd transitionend")})}),t("#tool-navigation-menu").find("a:last-child").on("click",function(){var n=t(this).attr("data-click").split("/"),i=n.length;n=n[i-1],o.ajax("tool-main-content","template/"+t(this).attr("data-click"),function(){o.dataReady(n)});var e=t("#tool-navigation");e.on("webkitTransitionEnd transitionend",function(){e.off("webkitTransitionEnd transitionend"),t("#tool-navigation-menu").addClass("effet-hide")})}),t("#tool-menu-close").on("click",function(){var o=t("#tool-navigation");o.on("webkitTransitionEnd transitionend",function(){o.off("webkitTransitionEnd transitionend"),t("#tool-navigation-menu").addClass("effet-hide")})}),t("#back-top").on("click","a",function(){return o.returnScrollTop(),!1})},o.configScrollTop=function(o){var n=t("#"+o);t("#tool-main-content").find(".overflow-y").scrollTop()>200?n.fadeIn(200):n.fadeOut(200)},o.returnScrollTop=function(){t("#tool-main-content").find(".overflow-y").animate({scrollTop:0},{duration:600,complete:function(){}})},o.initAccueil=function(){o.ajax("tool-main-content","template/accueil",function(){t("#tool-link-download").on("click",function(){lightbox.openLightbox("all","tool-toolbox-download","modalY-topToCenter","","",function(){t(".lbptool-closeX-btn").on("click",function(){lightbox.closeLightbox("all","tool-toolbox-download","modalY-topToCenter")})})})})},o.dataReady=function(t){switch(t){case"couleur":o.initEdition(),o.initColor();break;case"bouton":o.initEdition();break;default:o.initEdition()}o.animateScroll()},o.animateScroll=function(){var o=t(".tool-nav-s");o.length>0&&o.on("click","li a",function(){var o=t("#tool-main-content").find(".overflow-y"),n=t(t(this).attr("href")),i=o.scrollTop()+(n.offset().top-157-10);return o.animate({scrollTop:i},600),!1})},o.initColor=function(){for(var n=t(".tool-color-list").find("li"),i=0;i<n.length;i++){var e=t(n[i]).find(".tool-color-visuel").css("background-color"),l=o.rgb2hex(e);t(n[i]).find("[class*='color'] span").html(l)}},o.initEdition=function(){var n=t(".tool-bloc-edit-show"),i=t(".tool-bloc-edit-edit"),e=o.url();if("undefined"!=typeof e.mode&&e.mode.indexOf("admin")>-1){var l=n.find("a:first-child");l.removeAttr("disabled"),l.on("click",function(){var o=t(this).closest("article").find("pre[data-tb-edit]");"hide"===o.attr("data-tb-edit")?(o.attr("data-tb-edit","show"),t(this).find("span").html("Hide code")):(o.attr("data-tb-edit","hide"),t(this).find("span").html("Show code"))});var a=i.find("a:first-child");a.removeAttr("disabled"),a.on("click",function(){lightbox.openLightbox("all","tool-lightbox","menuOption","","",function(){t(".lbptool-closeX-btn").on("click",function(){lightbox.closeLightbox("all","tool-lightbox","menuOption")})})})}else n.find("a").attr("disabled","disabled"),i.find("a").attr("disabled","disabled")},o});